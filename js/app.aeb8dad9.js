(function(){"use strict";var e={9165:function(e,t,r){var s=r(144),n=r(998),a=r(6232),i=r(8974),c=r(266),l=r(2118),o=r(3059),u=r(6733),f=r(1713),d=r(7423),p=r(3687),v=r(7953),h=function(){var e=this,t=e._self._c;return t(n.Z,{attrs:{id:"inspire"}},[e.screenWidth<700?t(u.Z,{attrs:{app:""},model:{value:e.leftDrawer,callback:function(t){e.leftDrawer=t},expression:"leftDrawer"}},[t(l.Z,[t("popular-exchanges",{attrs:{popularCurrencies:e.popularCurrenciesObj},on:{selectCurrency:function(t){return e.selectRate(t)}}})],1)],1):e._e(),t(a.Z,{attrs:{app:"",color:"white",flat:""}},[e.screenWidth<700?t("div",[t("div",{staticClass:"d-flex align-center"},[t(i.Z,{on:{click:function(t){e.leftDrawer=!e.leftDrawer}}}),t(v.qW,[e._v("Конвертер валют")])],1)]):t(l.Z,{staticClass:"py-0 fill-height"},[t(v.qW,[e._v("Конвертер валют")]),t(p.Z),t("div",{staticClass:"text-caption"},[e._v(" by "),t("span",[t("a",{attrs:{href:"https://raimondpovetkin.github.io/mysite/"}},[e._v("Raimond Povetkin")])])])],1)],1),t(o.Z,{staticClass:"grey lighten-3"},[t(l.Z,[t(f.Z,[e.screenWidth>700?t(c.Z,{attrs:{cols:"3"}},[t(d.Z,{attrs:{rounded:"lg"}},[t("popular-exchanges",{attrs:{popularCurrencies:e.popularCurrenciesObj},on:{selectCurrency:function(t){return e.selectRate(t)}}})],1)],1):e._e(),t(c.Z,[t(d.Z,{attrs:{rounded:"lg"}},[t("div",{staticClass:"mx-3 pa-2"},[t("exchange-fields",{attrs:{countriesAll:e.getCountriesArr(),defaultCurrency:e.defaultCurrency,defaultRate:e.defaultRate,selectedRate:e.selectedRate}})],1)])],1)],1)],1)],1)],1)},C=[],m=(r(7658),function(){var e=this,t=e._self._c;return t("div",{staticClass:"pb-3"},[t("div",{staticClass:"d-flex align-center justify-center py-5"},[e._v(" ПОПУЛЯРНЫЕ ВАЛЮТЫ ")]),e._l(e.popularCurrencies,(function(r){return t("div",{key:r.currency,staticClass:"flex py-4 ma-2 back",on:{click:function(t){e.$emit("selectCurrency",r.currency.substring(0,3))}}},[t("div",{staticClass:"first-row"},[t("div",{staticClass:"currency-flag ml-2",class:["currency-flag-"+r.currency.substring(0,3).toLowerCase()]}),t("div",{staticClass:"code-country pl-2"},[e._v(" "+e._s(r.currency.substring(0,3))+" ")])]),t("div",{staticClass:"second-row"},[t("div",{staticClass:"name-country pl-5 text-sm-body-2"},[e._v(" "+e._s(r.name)+" ")]),t("div",{staticClass:"native-country pl-5 text-sm-body-2"},[e._v(" "+e._s(r.native)+" ")])])])}))],2)}),y=[],g={name:"PopularExchanges",props:{popularCurrencies:Array}},b=g,x=r(1001),_=(0,x.Z)(b,m,y,!1,null,"107eef0b",null),w=_.exports,R=r(4324),Z=r(7350),k=r(4068),O=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"title d-flex align-center justify-start py-5"},[e._v(" По курсу www.exchangerate-api.com на сегодня: ")]),t("div",{staticClass:"flex"},[t("div",{staticClass:"field-block"},[t(k.Z,{directives:[{name:"mask",rawName:"v-mask",value:e.timeRangeMask,expression:"timeRangeMask"}],staticClass:"text-field",attrs:{outlined:""},model:{value:e.valueFrom,callback:function(t){e.valueFrom=t},expression:"valueFrom"}}),t(Z.Z,{staticClass:"select",attrs:{outlined:"",items:e.getNormalizeCountries},on:{change:e.setRateCurrency},scopedSlots:e._u([{key:"item",fn:function({item:r}){return[t("div",{staticClass:"currency-flag",class:["currency-flag-"+r.toLowerCase()]}),t("span",{staticClass:"pl-3"},[e._v(" "+e._s(r)+" ")])]}},{key:"selection",fn:function({item:r}){return[t("div",{staticClass:"item-flag"},[t("span",{staticClass:"text-sm-body-2 pl-3 text-country"},[e._v(" "+e._s(r)+" ")]),t("div",{staticClass:"currency-flag ml-2",class:["currency-flag-"+r.toLowerCase()]})])]}}]),model:{value:e.fromCurrency,callback:function(t){e.fromCurrency=t},expression:"fromCurrency"}})],1),t(R.Z,{staticClass:"pb-7 px-2 icon",attrs:{large:""}},[e._v(" mdi-swap-horizontal ")]),t("div",{staticClass:"field-block"},[t(k.Z,{staticClass:"text-field",attrs:{outlined:"",readonly:"",value:e.finalValue}}),t(Z.Z,{staticClass:"select",attrs:{outlined:"",items:e.getNormalizeCountries},on:{change:e.setRateCurrency},scopedSlots:e._u([{key:"item",fn:function({item:r}){return[t("div",{staticClass:"currency-flag",class:["currency-flag-"+r.toLowerCase()]}),t("span",{staticClass:"pl-3"},[e._v(" "+e._s(r)+" ")])]}},{key:"selection",fn:function({item:r}){return[t("div",{staticClass:"item-flag"},[t("span",{staticClass:"text-sm-body-2 pl-3 text-country"},[e._v(" "+e._s(r)+" ")]),t("div",{staticClass:"currency-flag ml-2",class:["currency-flag-"+r.toLowerCase()]})])]}}]),model:{value:e.toCurrency,callback:function(t){e.toCurrency=t},expression:"toCurrency"}})],1)],1),e.rate?t("history-exchanges",{attrs:{pairsToRemember:e.pairsToRemember}}):e._e()],1)},j=[],D=(r(541),r(9669)),S=r.n(D);const A=S().create({baseURL:"https://v6.exchangerate-api.com/v6/8084f569e17e097a3e305091/latest/"});var P=A,T=function(){var e=this,t=e._self._c;return t("div",[e.pairsToRemember.length?t("div",[e._v(" Просматривали ранее: ")]):e._e(),t("div",{staticClass:"grid"},e._l(e.pairsToRemember,(function(r){return t("div",{key:r.id,staticClass:"row my-5 mx-3"},[t("div",{staticClass:"column mx-3"},[t("div",{staticClass:"currency-flag mr-2",class:["currency-flag-"+r.fromCurrency.toLowerCase()]}),t("div",[e._v(e._s(r.fromCurrency))]),t("div",{staticClass:"ml-2"},[e._v("/")]),t("div",{staticClass:"currency-flag mx-2",class:["currency-flag-"+r.toCurrency.toLowerCase()]}),t("div",[e._v(e._s(r.toCurrency))])]),t("div",{staticClass:"column mx-3"},[t("div",[e._v("1")]),t("div",{staticClass:"ml-2"},[e._v("/")]),t("div",[e._v(e._s(r.rate))])])])})),0)])},F=[],L={name:"HistoryExchanges",props:{pairsToRemember:Array}},E=L,U=(0,x.Z)(E,T,F,!1,null,"6174ee6b",null),z=U.exports,W={name:"ExchangeFields",components:{HistoryExchanges:z},props:{countriesAll:Object,defaultCurrency:String,selectedRate:String,defaultRate:Number},data:()=>({pairsToRemember:[],rate:null,valueFrom:1,valueTo:null,fromCurrency:"USD",toCurrency:"USD",countries:[]}),mounted(){this.getArrayCountries(),this.rate=this.defaultRate,this.$nextTick((()=>{this.toCurrency=this.defaultCurrency,"USD"===this.defaultCurrency&&(this.fromCurrency="EUR")}))},computed:{getNormalizeCountries(){return this.countries.map((e=>e.substring(0,3))).filter((e=>e))},finalValue(){return this.rate?(this.valueFrom*this.rate).toFixed(3):(this.valueFrom*this.defaultRate).toFixed(3)}},watch:{selectedRate(){this.fromCurrency=this.selectedRate,this.setRateCurrency()}},methods:{rememberPair(){const e={fromCurrency:this.fromCurrency,toCurrency:this.toCurrency,rate:this.rate,id:Math.floor(980*Math.random())+2};this.pairsToRemember.unshift(e)},timeRangeMask(e){const t=e.replace(/[^0-9.]/g,"");return[t]},async setRateCurrency(){await P.get(`https://v6.exchangerate-api.com/v6/8084f569e17e097a3e305091/latest/${this.fromCurrency}`).then((e=>{this.rate=e.data.conversion_rates[this.toCurrency].toFixed(3),this.rememberPair()})).catch((e=>{console.log(e)}))},getArrayCountries(){this.countries=Object.values(this.countriesAll).map((e=>e.currency))}}},M=W,N=(0,x.Z)(M,O,j,!1,null,"189c0565",null),$=N.exports,q=r(3590),H=r.n(q),V={name:"app",components:{popularExchanges:w,exchangeFields:$},data:()=>({selectedRate:null,popularCurrenciesObj:[],popularCurrencies:["US","CN","RU","DE","GB","CA"],leftDrawer:null,screenWidth:null,defaultCurrency:null,defaultRate:null}),mounted(){this.screenWidth=window.screen.width,this.$nextTick((()=>{window.addEventListener("resize",this.onResize)})),this.getLocalCurrency(),this.getDefaultRate(),this.getPopularCurrencies()},methods:{selectRate(e){this.selectedRate=e,this.leftDrawer=!1},getPopularCurrencies(){for(let e in this.popularCurrencies)this.popularCurrenciesObj.push(Object.entries(H().countries).find((t=>t[0]===this.popularCurrencies[e]))[1])},getCountriesArr(){return H().countries},getLocalCurrency(){const e=this.getAlpha2Country(window.navigator.language);this.defaultCurrency=H().countries[e]?.currency.substring(0,3)||"USD"},getAlpha2Country(e){return/[A-Z]/.test(e)?e.replace(/[^A-Z]+/g,""):e.toUpperCase()},async getDefaultRate(){await P.get("USD").then((e=>{this.defaultRate=e.data.conversion_rates[this.defaultCurrency]})).catch((e=>{console.log(e)}))},onResize(){this.screenWidth=window.innerWidth}},beforeDestroy(){window.removeEventListener("resize",this.onResize)}},B=V,G=(0,x.Z)(B,h,C,!1,null,null,null),I=G.exports,J=r(1705);s.ZP.use(J.Z);var K=new J.Z({}),Q=r(9278);s.ZP.use(Q.ZP);let X=new s.ZP({vuetify:K,render:e=>e(I)});X.$mount("#app")}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,s,n,a){if(!s){var i=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],a=e[u][2];for(var c=!0,l=0;l<s.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](s[l])}))?s.splice(l--,1):(c=!1,a<i&&(i=a));if(c){e.splice(u--,1);var o=n();void 0!==o&&(t=o)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[s,n,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,a,i=s[0],c=s[1],l=s[2],o=0;if(i.some((function(t){return 0!==e[t]}))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(l)var u=l(r)}for(t&&t(s);o<i.length;o++)a=i[o],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},s=self["webpackChunktestexchange"]=self["webpackChunktestexchange"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(9165)}));s=r.O(s)})();
//# sourceMappingURL=app.aeb8dad9.js.map